<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8' />
    <title>Pawxy Video Search Engine By Dhana</title>
    <link rel="stylesheet" href="main.css" type="text/css" />
    <script async
  src="https://cse.google.com/cse.js?cx=000888210889775888983:g9ckaktfipe"></script>
    <style>
      #info {
        border: 1px solid black;
        padding: 0.25em;
      }
    </style>
    
    <script>
      // Enter the API key from the Google Develoepr Console - to handle any unauthenticated
      // requests in the code.
      // The provided key works for this sample only when run from
      // https://google-api-javascript-client.googlecode.com/hg/samples/requestSample.html
      // To use in your own application, replace this API key with your own.
      //var apiKey = 'AIzaSyC15h_QiTV4daXICtSSXA3RVFWx93dS7dg';
      var apiKey = "AIzaSyAxbueUm2nijg_5BarlC7oDu4aDMmvjr9w"

      function handleClientLoad() {
          gapi.load('client', makeRequest);
      }

      function initClient() {
        gapi.client.init({
          apiKey: apiKey,
        }).then(makeRequest)
      }

      function makeRequest() {
        gapi.client.setApiKey(apiKey);

        function writeResponse(resp) {
          var responseText;
          if (resp.error && resp.error.errors[0].debugInfo == 'QuotaState: BLOCKED') {
            responseText = 'Invalid API key provided. Please replace the "apiKey" value with your own.';
          } 
          var searchResult = document.getElementById('search-result');
          for(var i =0; i< resp.items.length; i++){
            searchResult.appendChild(document.createTextNode(resp.items[i].htmlSnippet));
          }
         
        }

        var seachQuery = document.getElementById('searchBox').value;
        var restRequest = gapi.client.request({
           'path': 'customsearch/v1',
           'params' : {
              'q' : seachQuery,
              'cx' : '705be23273b884d5c',
              'sort': 'metatags-videoobject-interactioncount'
            }
        });

        restRequest.execute(writeResponse);
      }

      const mySearchStartingCallback = (gname, query) => {
  const dayOfWeek = new Date().getDay();
  console.log(dayOfWeek);
  var days = {
        "0": "Sunday",
        "1": "Monday",
        "2": "Tuesday",
        "3": "Wednesday",
        "4": "Thursday",
        "5": "Friday",
        "6": "Saturday"
    };

    return query + ' ' + 'VIDEO';
};
// Install the callback.
window.__gcse || (window.__gcse = {});
  window.__gcse.searchCallbacks = {
    image: {
      starting: mySearchStartingCallback,
    },
    web: {
      starting: mySearchStartingCallback,
    },
};
var element = google.search.cse.element.getElement('element1');
            element.execute('music');
    </script>
    <script async defer src="https://apis.google.com/js/api.js"
      onload="this.onload=function(){};handleClientLoad();"
      onreadystatechange="if (this.readyState === 'complete') this.onload();">
    </script>
  </head>

  <body>
    <div class="gcse-searchbox" ></div>
<div class="gcse-searchresults" gname="element1"></div>
    <input id="searchBox" type="text"/>
    <button onclick="makeRequest();">
      Search
    </button>
    <div style="margin-top:0.5em;"><span id="search-result">Results</span></div>
  </body>
</html>